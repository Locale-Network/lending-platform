# ===========================================
# Locale Lending - Environment Configuration Template
# ===========================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env or .env.local to version control

# ===========================================
# Private Keys (REQUIRED - Generate your own!)
# ===========================================
# Use different keys for production
PRIVATE_KEY=0x<your-private-key>
ANVIL_PRIVATE_KEY=0x<your-anvil-private-key>
POOL_ADMIN_PRIVATE_KEY=0x<your-pool-admin-private-key>
RELAY_PRIVATE_KEY=0x<your-relay-private-key>
CARTESI_PRIVATE_KEY=0x<your-cartesi-private-key>
CREDENTIAL_ISSUER_PRIVATE_KEY=0x<your-credential-issuer-private-key>

# ===========================================
# Chain Configuration
# ===========================================
# Arbitrum Sepolia (testnet): 421614
# Arbitrum One (mainnet): 42161
# Local Anvil: 31337
NEXT_PUBLIC_CHAIN_ID=421614
NEXT_PUBLIC_RPC_URL="https://sepolia-rollup.arbitrum.io/rpc"

# ===========================================
# Contract Addresses (Deploy your own or use testnet)
# ===========================================
# Core Contracts
NEXT_PUBLIC_TOKEN_ADDRESS=0x<your-token-address>
NEXT_PUBLIC_LOAN_POOL_ADDRESS=0x<your-loan-pool-address>
SIMPLE_LOAN_POOL_ADDRESS=0x<your-simple-loan-pool-address>
NEXT_PUBLIC_STAKING_POOL_ADDRESS=0x<your-staking-pool-address>

# ZK Verifiers
KYC_VERIFIER_ADDRESS=0x<your-kyc-verifier-address>
DSCR_VERIFIER_ADDRESS=0x<your-dscr-verifier-address>
PROOF_VERIFIER_ADDRESS=0x<your-proof-verifier-address>

# Credentials (SBT Proxies)
NEXT_PUBLIC_BORROWER_NFT_ADDRESS=0x<your-borrower-nft-address>
NEXT_PUBLIC_INVESTOR_NFT_ADDRESS=0x<your-investor-nft-address>
BORROWER_CREDENTIAL_ADDRESS=0x<your-borrower-credential-address>

# ===========================================
# Cartesi Configuration
# ===========================================
# Local development: http://localhost:8080/graphql
# Production: https://<your-cartesi-deployment>/graphql
CARTESI_GRAPHQL_URL=http://localhost:8080/graphql
CARTESI_RPC_URL=http://localhost:8545
CARTESI_DAPP_ADDRESS=0x<your-cartesi-dapp-address>
CARTESI_CONTRACTS_INPUT_BOX_ADDRESS=0x<input-box-address>
CARTESI_BLOCKCHAIN_ID=31337
NEXT_PUBLIC_CARTESI_INSPECT_URL=http://localhost:8080

# ===========================================
# Reclaim Protocol (zkFetch)
# ===========================================
# Get from https://dev.reclaimprotocol.org/
RECLAIM_APP_ID=0x<your-reclaim-app-id>
RECLAIM_APP_SECRET=0x<your-reclaim-app-secret>

# ===========================================
# Development Flags
# ===========================================
# Set to false in production!
DISABLE_SBT_CHECKS=false

# ===========================================
# Reown / WalletConnect
# ===========================================
# Get from https://cloud.reown.com/
NEXT_PUBLIC_REOWN_CLOUD_PROJECT_ID=<your-reown-project-id>
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=<your-walletconnect-project-id>
NEXT_PUBLIC_ALCHEMY_API_KEY=<your-alchemy-api-key>
NEXT_PUBLIC_GAS_POLICY_ID=<your-gas-policy-id>
ALCHEMY_PRIVATE_KEY=<your-alchemy-private-key>

# ===========================================
# NextAuth Configuration
# ===========================================
# Production: https://your-domain.com
NEXTAUTH_URL=http://localhost:3000
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=<generate-a-strong-secret-min-32-chars>

# ===========================================
# Database (PostgreSQL)
# ===========================================
# Supabase or any PostgreSQL provider
NEXT_PUBLIC_SUPABASE_URL=https://<your-project>.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<your-anon-key>
SUPABASE_SERVICE_ROLE_KEY=<your-service-role-key>
DB_ADAPTER=postgres

# Pooled connection (for application queries)
# IMPORTANT: Always use sslmode=require in production
POSTGRES_URL=postgresql://<user>:<password>@<host>:6543/<database>?pgbouncer=true&sslmode=require
# Direct connection (for migrations)
POSTGRES_URL_NON_POOLING=postgresql://<user>:<password>@<host>:5432/<database>?sslmode=require
DB_PASSWORD=<your-db-password>
DB_USER=<your-db-user>
DB_NAME=<your-db-name>

# ===========================================
# Database Security
# ===========================================
# Encryption key for sensitive data at rest (Plaid tokens, etc.)
# Generate with: openssl rand -hex 32
# CRITICAL: Back this up securely - data is unrecoverable without it!
DATABASE_ENCRYPTION_KEY=<64-hex-characters>

# ===========================================
# Plaid Configuration
# ===========================================
# Get from https://dashboard.plaid.com
PLAID_CLIENT_ID=<your-plaid-client-id>
PLAID_SECRET=<your-plaid-secret>
# sandbox, development, or production
PLAID_ENV=sandbox
PLAID_PRODUCTS=auth,transactions,identity
PLAID_COUNTRY_CODES=US,CA
NEXT_PUBLIC_PLAID_ENV=sandbox

# ===========================================
# Transaction Sync Configuration
# ===========================================
PLAID_SYNC_INTERVAL_MS=60000
DAILY_SYNC_ENABLED=true
# Generate a strong secret for cron job authentication
CRON_SECRET=<generate-a-strong-secret>
# Whether to sync all active loans or only loans with recent activity
SYNC_ALL_ACTIVE_LOANS=true
# Days to consider as "recent" when SYNC_ALL_ACTIVE_LOANS=false
SYNC_RECENT_ACTIVITY_DAYS=30

# ===========================================
# Privy Authentication
# ===========================================
# Get from https://dashboard.privy.io/
NEXT_PUBLIC_PRIVY_APP_ID=<your-privy-app-id>
PRIVY_APP_SECRET=<your-privy-app-secret>

# ===========================================
# Rate Limiting (Production)
# ===========================================
# Get from https://upstash.com/
UPSTASH_REDIS_REST_URL=<your-upstash-redis-url>
UPSTASH_REDIS_REST_TOKEN=<your-upstash-redis-token>

# ===========================================
# Stripe ACH Payment Integration
# ===========================================
# Get from https://dashboard.stripe.com/apikeys
# Secret key: sk_test_xxx (test) or sk_live_xxx (production)
STRIPE_SECRET_KEY=<your-stripe-secret-key>
# Webhook signing secret from https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=<your-stripe-webhook-secret>

# ===========================================
# Circle ACH Payment Integration (DEPRECATED)
# ===========================================
# These are kept temporarily for in-flight payment processing during migration.
# Remove after all Circle payments have settled.
# CIRCLE_ENVIRONMENT=sandbox
# CIRCLE_API_KEY=<your-circle-api-key>
# CIRCLE_WEBHOOK_SECRET=<your-circle-webhook-secret>

# ===========================================
# Pinata (IPFS Document Storage)
# ===========================================
# Get from https://app.pinata.cloud/
PINATA_JWT=<your-pinata-jwt>
PINATA_GATEWAY=<your-gateway>.mypinata.cloud

# ===========================================
# ZK Circuits
# ===========================================
ZK_CIRCUITS_PATH=../loan-pool/zk-circuits
